<!-- <span class="flex mt-5">Still working on stats.</span> -->

<div class="flex flex-col space-y-8">
    <!-- START: General Stats -->
    <div *ngIf="!this.isLoading && !this.isError" id="general-stats" class="grid grid-cols-4 gap-x-28 lg:text-xl">
        <div class="table mx-auto space-x-1.5 md:space-x-3 md:mx-0">
            <span class="text-3xl font-semibold lg:text-4xl">{{ this.member.dateJoined | daysSince }}</span>
            <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                  ngxTippy
                  tippyName="first-seen">days since first seen</span>
        </div>
        <div class="table mx-auto space-x-1.5 md:space-x-3 md:mx-0">
            <span class="text-3xl font-semibold lg:text-4xl">{{ this.member.timePlayed | hours | round : 1 }}</span>
            <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                  ngxTippy="Hours Played">hours played</span>
        </div>
        <div class="table mx-auto space-x-1.5 md:space-x-3 md:mx-0">
            <span class="text-3xl font-semibold lg:text-4xl">{{ this.member.joinPosition ? this.member.joinPosition : 0 }}</span>
            <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                  ngxTippy="Join Position">join position</span>
        </div>
        <div class="table mx-auto space-x-1.5 md:space-x-3 md:mx-0">
            <span class="text-3xl font-semibold lg:text-4xl">0</span>
            <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                  ngxTippy="Biscuits (coins)">biscuits</span>
        </div>

    </div>
    <!-- END: General Stats -->

    <hr *ngIf="!this.isLoading && !this.isError">

    <span *ngIf="!this.member.hockeyStatistics 
                    || this.member?.hockeyStatistics?.length === 0
                    || !this.member?.hockeyStatistics[0].description" class="flex flex-row space-x-3 items-center mx-auto w-max">
        <svg *ngIf="this.isLoading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" display="block" class="h-8 fill-current">
            <g transform="translate(80 50)">
                <circle r="6">
                    <animateTransform attributeName="transform" type="scale" begin="-0.9408602150537634s" values="1.5 1.5;1 1" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" />
                    <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" values="1;0" begin="-0.9408602150537634s" />
                </circle>
            </g>
            <g transform="rotate(45 -50.355 121.569)">
                <circle r="6" fill-opacity=".875">
                    <animateTransform attributeName="transform" type="scale" begin="-0.8064516129032258s" values="1.5 1.5;1 1" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" />
                    <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" values="1;0" begin="-0.8064516129032258s" />
                </circle>
            </g>
            <g transform="rotate(90 -15 65)">
                <circle r="6" fill-opacity=".75">
                    <animateTransform attributeName="transform" type="scale" begin="-0.6720430107526881s" values="1.5 1.5;1 1" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" />
                    <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" values="1;0" begin="-0.6720430107526881s" />
                </circle>
            </g>
            <g transform="rotate(135 -.355 41.569)">
                <circle r="6" fill-opacity=".625">
                    <animateTransform attributeName="transform" type="scale" begin="-0.5376344086021505s" values="1.5 1.5;1 1" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" />
                    <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" values="1;0" begin="-0.5376344086021505s" />
                </circle>
            </g>
            <g transform="rotate(180 10 25)">
                <circle r="6" fill-opacity=".5">
                    <animateTransform attributeName="transform" type="scale" begin="-0.4032258064516129s" values="1.5 1.5;1 1" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" />
                    <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" values="1;0" begin="-0.4032258064516129s" />
                </circle>
            </g>
            <g transform="rotate(-135 20.355 8.431)">
                <circle r="6" fill-opacity=".375">
                    <animateTransform attributeName="transform" type="scale" begin="-0.26881720430107525s" values="1.5 1.5;1 1" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" />
                    <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" values="1;0" begin="-0.26881720430107525s" />
                </circle>
            </g>
            <g transform="rotate(-90 35 -15)">
                <circle r="6" fill-opacity=".25">
                    <animateTransform attributeName="transform" type="scale" begin="-0.13440860215053763s" values="1.5 1.5;1 1" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" />
                    <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" values="1;0" begin="-0.13440860215053763s" />
                </circle>
            </g>
            <g transform="rotate(-45 70.355 -71.569)">
                <circle r="6" fill-opacity=".125">
                    <animateTransform attributeName="transform" type="scale" begin="0s" values="1.5 1.5;1 1" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" />
                    <animate attributeName="fill-opacity" keyTimes="0;1" dur="1.075268817204301s" repeatCount="indefinite" values="1;0" begin="0s" />
                </circle>
            </g>
        </svg>
        <span>{{ this.statisticsText }}</span>
    </span>

    <!-- START: Total Stats -->
    <div *ngIf="!this.isLoading && !this.isError" class="flex flex-col space-y-20">
        <div *ngFor="let stat of this.member.hockeyStatistics" class="flex flex-col space-y-6">
            <span class="pb-3 text-3xl font-semibold border-b border-black-50 lg:text-4xl w-max">{{ stat.description }}</span>
            <div class="grid grid-cols-4 text-lg lg:text-2xl gap-y-5 gap-x-28">
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.gamesPlayed || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Games Played">games played</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.wins || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Total Wins">wins</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.losses || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Total Losses">losses</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ this.calculateWinLoseRatio(stat.wins, stat.losses) || 0 | number: '1.2-2' }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Win-Lose Ratio">WL</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.goals || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Goals">goals</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.goalsAgainst || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Goals Against">goals against</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.primaryAssists + stat.secondaryAssists || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Assists">assists</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.primaryAssists + stat.secondaryAssists + stat.goals || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Points">points</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.overtimeWins || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Overtime Wins">OT wins</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.overtimeLosses || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Overtime Losses">OT losses</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.forfeitWins || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Forfeit Wins">FFT wins</span>
                </div>
                <div class="table mx-auto space-x-3 md:mx-0">
                    <span class="text-3xl font-semibold lg:text-4xl">{{ stat.forfeitLosses || 0 | number }}</span>
                    <span class="text-gray-400 dark:text-gray-300 whitespace-nowrap"
                          ngxTippy="Forfeit Losses">forfeits</span>
                </div>
            </div>
        </div>
        <!-- END: Total Stats -->
    </div>
</div>